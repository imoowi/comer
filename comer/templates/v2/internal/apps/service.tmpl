/*
generated by comer,https://github.com/imoowi/comer
Copyright Â© 2023 jun<simpleyuan@gmail.com>
*/
package services

import (
	"github.com/imoowi/comer/interfaces/impl"
	"github.com/imoowi/comer/interfaces"
	"{{.ModuleName}}/internal/models"
	"{{.ModuleName}}/internal/repos"
)

var {{.ServiceName}} *{{.ServiceName}}Service

type {{.ServiceName}}Service struct {
	impl.Service
}

func New{{.ServiceName}}Service(r *repos.{{.ModelName}}Repo) *{{.ServiceName}}Service {
	return &{{.ServiceName}}Service{
		Service: *impl.NewService(r),
	}
}

func init() {
	RegisterServices(func() {
		{{.ServiceName}} = New{{.ServiceName}}Service(repos.{{.ModelName}})
		var mt interfaces.IModel = &models.{{.ModelName}}{}
		{{.ServiceName}}.MT = &mt
	})
}
